!function(a){a.fn.HarpFilter=function(b){function f(a){jQuery(e.loadWhileSubmit.elementImage).length>0&&jQuery(e.loadWhileSubmit.elementImage).spin({lines:13,length:28,width:14,radius:42,scale:.2,corners:1,color:e.loadWhileSubmit.color,opacity:.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"})}function s(a){var b=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,c=new RegExp(b);return c.test(a)}function R(a){var b=["/","-","."],c="";jQuery.each(b,function(b,d){if(a.indexOf(d)>-1)return c=d,!1});var d=a.split(c);if(3===d.length){var e=parseInt(d[0]),f=parseInt(d[1]),g=parseInt(d[2]),h=[28,29,30,31],i=new Date(g,f,0).getDate();return!(jQuery.inArray(i,h)===-1||f<1||f>12||(2===f||2===f)&&e>i)}return!1}function S(a){return(a+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0")}function T(a){var b=a.replace(",","").replace(".","");return jQuery.isNumeric(b)}function U(a){return!(!jQuery.isNumeric(a)||Math.floor(a)!==parseFloat(a.trim()))}function V(a){return!(0===a.trim().length||a.trim().length>1||!U(a))}function W(a){return a.trim().length>0}function X(a){var b=null;try{b=JSON.parse(a)}catch(a){return!1}return b}function Z(a,b){var c=a.trim().split("/"),d=a;return 3==c.length?d=c[2]+"-"+c[1]+"-"+c[0]:(c=a.trim().split("."),3==c.length?d=c[2]+"-"+c[1]+"-"+c[0]:(c=a.trim().split(" "),3==c.length?d=c[2]+"-"+c[1]+"-"+c[0]:(c=a.trim().split("-"),3==c.length&&(d=c[2]+"-"+c[1]+"-"+c[0])))),null!=d&&(a=jQuery.datepicker.formatDate(b,new Date(parseInt(c[2]),parseInt(c[1])-1,parseInt(c[0])))),a}function $(a,b,c,d){return a=a.replace(/\./g,""),a=a.replace(/\,/g,"."),a=parseFloat(a).toFixed(b)}function _(a,b,c){var d=!1;switch(a){case"varchar":case"nvarchar":case"nchar":case"char":case"text":case"tinytext":case"mediumtext":case"longtext":case"ntext":if(d=W(b))return b;break;case"int":case"smallint":case"tinyint":case"bigint":if(d=U(b))return b;break;case"bit":if(d=V(b))return b;break;case"date":if(d=R(b)){if(null!=c){var e=jQuery(c).attr("data-format");"undefined"!=e&&""!=e&&(b=Z(b,e))}return b}case"datetime":if(d=R(b)){if(null!=c){var e=jQuery(c).attr("data-format"),f=jQuery(c).attr("data-time");f="undefined"==typeof f||""==f.trim()?"00:00:00":f,"undefined"!=typeof e&&""!=e&&(b=Z(b,e))}return b+=" "+f}break;case"float":case"decimal":case"double":case"real":if(d=T(b))return b=$(b,2);break;default:console.log("Impossible to validate the value because the type: "+a+" is not suported!"),d=!1}return d}function aa(){if(0===y.trim().length)return console.log("Impossible to validate the value, it seems that this element value is null!"),!1;if("undefined"==typeof jQuery("."+y).attr("type")||0===jQuery("."+y).attr("type").trim().length)return console.log("attribute type Not Set,Is impossible to validate the value!"),!1;I=jQuery("."+y).attr("type"),M=jQuery(z).val();var a=_(I,M,z),b=["datetime","date","float","decimal","double","real"];if(jQuery.inArray(I,b)!=-1&&(M=a),a===!1)var c=jQuery(z).attr("data-msg");if(a&&null!=A&&2==jQuery("#"+g+" > .ContainerElement").children().size()){N=jQuery(A).val();var a=_(I,N,A);if(jQuery.inArray(I,b)!=-1&&(N=a),!a)var c=jQuery(A).attr("data-msg")}if(a===!1)return alert(c),!1;if(jQuery(z).val().trim().length>O[I])return alert(c+" type:"+I+" size allowed: "+O[I]),!1;if(jQuery(A).length>0&&jQuery(A).val().trim().length>O[I])return alert(c+" type:"+I+" size allowed: "+O[I]),!1;var d=jQuery("#"+g+" > .relationalOperator > select").find(":selected").text(),f=jQuery("#"+g+" > .logicalOperator > select").find(":selected").text(),h=jQuery("#"+g+" > .filterField > select").find(":selected").text(),i=X(jQuery.base64.decode(jQuery("#"+g+" > .filterData").val())),j=jQuery(z).prop("type"),k=["varchar","nvarchar","nchar","char","text","tinytext","mediumtext","longtext","ntext"];K=jQuery.inArray(I,k)!=-1&&1==e.scapeQuotes?S(M):M;var l="select-multiple"!=j&&"select-one"!=j?M:jQuery(z).find(":selected").text(),m=null;if(jQuery(A).length>0&&(L=jQuery.inArray(I,k)!=-1&&1==e.scapeQuotes?S(N):N,m="select-multiple"!=j&&"select-one"!=j?N:jQuery(A).find(":selected").text()),"int"===I||"bit"===I)B=(" "+v+" "+x+" "+w).toUpperCase()+" "+M+" ",C=((jQuery.isEmptyObject(i.filter)?"":f)+" "+h+" "+d).toUpperCase()+" "+l,p=(f+" "+h+" "+d).toUpperCase()+" "+l,D="@p"+jQuery.md5(p),G=D,"BETWEEN"!=w&&"between"!=w||(B=(" "+v+" "+x+" "+w).toUpperCase()+" "+M+(null==N?" ":" AND "+N),p=(f+" "+h+" "+d).toUpperCase()+" "+l+(null!=m?" & "+m:""),C=((jQuery.isEmptyObject(i.filter)?"":f)+" "+h+" "+d).toUpperCase()+" "+l+(null!=m?" & "+m:""),E="@p2"+D.substring(2)+"-1",H=E,r=L);else{var n=["%","%"];"left"==J?n=["","%"]:"right"==J&&(n=["%",""]);var o="LIKE"===w||"like"===w?" '"+n[0]+l+n[1]+"' ":" '"+l+"' "+(null!=m?"& '"+m+"'":"");C=((jQuery.isEmptyObject(i.filter)?"":f)+" "+h+" "+d).toUpperCase()+o;var p=(f+" "+h+" "+d).toUpperCase()+o;if(D="@p"+jQuery.md5(p),null!=m&&(E="@p2"+D.substring(2)+"-1"),1==e.useQuotesInCommand){var q="LIKE"===w||"like"===w?"'"+n[0]+K+n[1]+"'":"'"+K+"'",r=null;G="LIKE"===w||"like"===w?"'"+n[0]+D+n[1]+"'":"'"+D+"'",null!=L&&(r="LIKE"===w||"like"===w?"'"+n[0]+K+n[1]+"'":"'"+L+"'",H="LIKE"===w||"like"===w?"'"+n[0]+D+n[1]+"'":"'"+E+"'")}else{var q="LIKE"===w||"like"===w?n[0]+K+n[1]:K;G="LIKE"===w||"like"===w?n[0]+D+n[1]:D}B="BETWEEN"==w||"between"==w?(" "+v+" "+x+" "+w).toUpperCase()+" "+q+" "+(null!=r?"AND "+r:""):(" "+v+" "+x+" "+w).toUpperCase()+" "+q}return F="BETWEEN"==w||"between"==w?(" "+v+" "+x+" "+w).toUpperCase()+" "+G+" "+(null!=r?"AND "+H:""):(" "+v+" "+x+" "+w).toUpperCase()+" "+G,!0}var c={baseUrl:"",stylesheet:"theme-blue-gray",fieldFilterName:"hiddenFieldFilter",jsonFilterData:"",allowedRelationalOperators:{},useQuotesInCommand:1,scapeQuotes:1,filterFieldWidth:"260px",logicalOperatorWidth:"100px",relationalOperatorWidth:"220px",btnAddFilter:!1,defaultSearchShow:!0,loadWhileSubmit:{show:1,elementImage:".showLoaderImage",color:"#205081"}},d=c,e=a.extend({},c,b);jQuery("head").append('<script type="text/javascript" src="'+e.baseUrl+'/HarpFilter/js/fingerprintjs2/fingerprint2.js"></script>'),jQuery("head").append('<link rel="stylesheet" type="text/css" href="'+e.baseUrl+'/HarpFilter/css/HarpFilterDefault.css">'),jQuery("head").append('<link rel="stylesheet" type="text/css" href="'+e.baseUrl+"/HarpFilter/css/"+e.stylesheet+'.css">'),jQuery("head").append('<script type="text/javascript" src="'+e.baseUrl+'/HarpFilter/js/jQuery-MD5/jquery.md5.js"></script>'),jQuery("head").append('<script type="text/javascript" src="'+e.baseUrl+'/HarpFilter/js/jquery-base64/jquery.base64.min.js"></script>'),window.jQuery||jQuery("head").append('<script type="text/javascript" src="'+e.baseUrl+'/HarpFilter/js/jquery-1.11.3.min.js"></script>'),"undefined"==typeof jQuery.ui&&(jQuery("head").append('<link rel="stylesheet" type="text/css" href="'+e.baseUrl+'/HarpFilter/css/jquery-ui.min.css">'),jQuery("head").append('<script type="text/javascript" src="'+e.baseUrl+'/HarpFilter/js/jquery-ui.min.js"></script>')),jQuery("head").append('<script type="text/javascript" src="'+e.baseUrl+'/HarpFilter/js/spin.js"></script>'),jQuery("head").append('<script type="text/javascript" src="'+e.baseUrl+'/HarpFilter/js/spinjQuery.js"></script>'),"string"==jQuery.type(e.loadWhileSubmit)&&(e.loadWhileSubmit=JSON.parse(e.loadWhileSubmit)),jQuery.each(d.loadWhileSubmit,function(a,b){"undefined"==typeof e.loadWhileSubmit[a]&&(e.loadWhileSubmit[a]=b)});var g=jQuery(this).attr("id");if("undefined"==typeof g||""===g.trim())return console.log("id element is required!"),!1;jQuery("#"+g).append('<input type="hidden" name="'+g+'-fingerPrint">');var h=new Fingerprint2;h.get(function(a,b){console.log("result"+a),jQuery('input[name="'+g+'-fingerPrint"]').val(a)});var k=(window.location.href,jQuery.md5(window.location.href+g+jQuery('input[name="'+g+'-fingerPrint"]').val())),l=!1;if(0===e.jsonFilterData.length||jQuery.isEmptyObject(e.jsonFilterData)){var m={filter:{},parameters:{},commandText:"",commandParameter:"",order:{},logicalOperator:"",filterField:"",relationalOperator:"",request:"0"},n=jQuery.base64.encode(JSON.stringify(m));if("undefined"!=typeof k&&""!=k)if("undefined"!=typeof Storage)if(null!=localStorage.getItem(k)){var o=X(jQuery.base64.decode(localStorage.getItem(k)));jQuery.isEmptyObject(o.filter)||(l=!0),e.jsonFilterData=localStorage.getItem(k)}else e.jsonFilterData=n;else console.log("Sorry! No Web Storage support..");else e.jsonFilterData=n}var p=typeof e.allowedRelationalOperators;if("object"!=p){var q=X(e.allowedRelationalOperators);if(!q)return console.log("{allowedRelationalOperators} it should be an object or a string json. found: "+p),!1;e.allowedRelationalOperators=q}jQuery("#"+g).css({display:"block",float:"left",margin:"0.5rem 0 0.5rem 0"});var r=g+"Container";if(jQuery("#"+g).append('<div class="ContainerElement"></div>'),jQuery("#"+g).append('<button class="buttonAddFilter"><img src="'+e.baseUrl+'/HarpFilter/img/add48.png"/></button>'),jQuery("#"+g).append('<button class="buttonSubmitFilter"><img src="'+e.baseUrl+'/HarpFilter/img/MagnifyingGlass48.png"/></button>'),jQuery("#"+g).append('<span class="showLoaderImage" style="float:right;display:inline-block;width:60px;height:60px;border:1px solid transparent;"></span>'),jQuery("#"+g).append('<button class="cleanAllFilter"><img src="'+e.baseUrl+'/HarpFilter/img/clean.png"/></button>'),jQuery("#"+g).append('<div class="ActiveFilters"></div>'),jQuery("#"+r).hide(),jQuery("#"+g+" > .ContainerElement").hide(),jQuery("#"+g+" > .buttonAddFilter").hide(),jQuery("#"+g+" > .buttonSubmitFilter").hide(),jQuery("#"+g+" > .cleanAllFilter").hide(),jQuery("#"+g+" > .ActiveFilters").hide(),jQuery(".filterField").children().css({width:e.filterFieldWidth}),jQuery(".logicalOperator").children().css({width:e.logicalOperatorWidth}),jQuery(".relationalOperator").children().css({width:e.relationalOperatorWidth}),0===jQuery("#"+g+" > .filterData").length&&jQuery("#"+g).append('<input class="filterData" type="hidden" name="'+e.fieldFilterName+'" value="'+e.jsonFilterData+'">'),jQuery("#"+r).is(":empty"))return console.log("There are no elements to perform the filter!"),!1;if(0===jQuery("#"+g).find(".logicalOperator > select").length)return console.log("Logical operators have not been added to the filter!"),!1;if(0===jQuery("#"+g).find(".filterField > select").length)return console.log("Filter fields have not been added to the filter!"),!1;if(0===jQuery("#"+g).find(".relationalOperator > select").length)return console.log("Relational operators have not been added to the filter!"),!1;jQuery("#"+g+" > .relationalOperator > select").prop("disabled",!0),jQuery("#"+r).children().each(function(a,b){jQuery(b).prop("disabled",!0)});var t=null;if(jQuery("body").on("click",'button,a,input[type="submit"]',function(a){if("buttonSubmitFilter"!=jQuery(this).attr("class")){var b=this.nodeName,c=!1;"A"==b?t=jQuery(this).attr("href"):(t=jQuery(this).closest("form").attr("action"),c="#"!=t&&""!=t.trim());var d=t.substr(t.length-1);if("#"==d&&(t=t.substring(0,t.length-1)),substring="javascript:WebForm_DoPostBackWithOptions",t.indexOf(substring)!=-1){var e=/\(([^)]+)\)/,f=e.exec(t);if(null!=f&&f.length>0&&(f=e.exec(f[0]),null!=f&&f.length>0)){var h=f[1].split(",");null!=h&&"undefined"!=typeof h[4]&&(t=h[4],c=!0)}}if((s(t)||c===!0)&&"undefined"!=typeof Storage){var i=localStorage.getItem(k);if(null!=i){var j=X(jQuery.base64.decode(i));jQuery.isEmptyObject(j.filter)||(j.request=1,jQuery("#"+g+" > .filterData").val(jQuery.base64.encode(JSON.stringify(j))),localStorage.setItem(k,jQuery("#"+g+" > .filterData").val()))}}}}),"undefined"!=typeof Storage){var u=localStorage.getItem(k);null!=u&&(u=X(jQuery.base64.decode(u)),jQuery.isEmptyObject(u.filter)||1!=u.request||(u.request="0",jQuery("#"+g+" > .filterData").val(jQuery.base64.encode(JSON.stringify(u))),localStorage.setItem(k,jQuery("#"+g+" > .filterData").val()),f("#"+g+" > .buttonSubmitFilter"),jQuery("#"+g+" > .buttonSubmitFilter").trigger("click")))}jQuery("body").on("click","#"+g+" .cleanAllFilter",function(a){jQuery("#"+g+" .ActiveFilters").empty();var b={filter:{},parameters:{},commandText:"",commandParameter:"",order:{},logicalOperator:"",filterField:"",relationalOperator:"",request:"0"};jQuery("#"+g+" > .filterData").val(jQuery.base64.encode(JSON.stringify(b))),"undefined"!=typeof Storage&&localStorage.setItem(k,jQuery("#"+g+" > .filterData").val()),e.loadWhileSubmit.show&&f("#"+g+" .cleanAllFilter")}),jQuery(".relationalOperator").show(),jQuery(".logicalOperator").show(),jQuery(".filterField").show();var v=jQuery("#"+g+" > .logicalOperator > select").val(),w=jQuery("#"+g+" > .relationalOperator > select").val(),x="",y="",z=null,A=null,B=null,C=null,D="",E="",F="",G="",H="",I=null,J="center",K=null,L=null,M=null,N=null,O={tinyint:127,smallint:32767,int:2147483647,bigint:0x8000000000000000,varchar:255,nvarchar:255,nchar:255,char:255,text:65535,ntext:65535,tinytext:255,mediumtext:16777215,longtext:4294967295,boolean:1,bit:1,datetime:19,date:10,float:2147483648,decimal:0x8000000000000000,double:0x8000000000000000,real:0x8000000000000000};return jQuery("html,body").on("keypress",function(a){if(a.stopPropagation(),13==a.keyCode){var b=!1;jQuery("#"+g+" > .ContainerElement").is(":empty")||(jQuery("#"+g+" > .ContainerElement").each(function(a,c){if(jQuery(c).children().length>0&&"none"!=jQuery(c).children().css("display"))return jQuery(c).children().focus(),b=!0,!1}),b&&(a.preventDefault(),jQuery("#"+g+" > .buttonSubmitFilter").trigger("click")))}}),this.each(function(){function o(a){jQuery("#"+g+" > .relationalOperator > select option").eq(0).prop("selected",!0),""===a.trim()||null===a.trim()?jQuery("#"+g+" > .relationalOperator > select").prop("disabled",!0):(jQuery("#"+g+" > .relationalOperator > select").prop("disabled",!1),jQuery.isEmptyObject(e.allowedRelationalOperators)||jQuery("#"+g+" > .relationalOperator > select > option").each(function(b,c){if("undefined"!=typeof e.allowedRelationalOperators[a]){var d=e.allowedRelationalOperators[a];jQuery(c).prop("disabled",!1).css({color:"inherit"}),jQuery.inArray(jQuery(c).val().trim(),d)===-1&&jQuery(c).prop("disabled",!0).css({color:"#888888"})}}))}function p(){var a=jQuery.base64.decode(jQuery("#"+g+" > .filterData").val()),b=X(a);return"object"!=typeof b?(console.log("the variable {json} is not an object instance!"),!1):b}function q(){if(aa()===!1)return console.log("data type value is invalid!"),!1;var a=p();if(!a)return!1;var b={logicalOperator:v,field:x,relationalOperator:w,value:M,strCommand:B,strCommandParameter:F,strDisplay:C,doubleParameter:0,position:J,type:I,typeLength:O[I],order:Object.keys(a.filter).length};if("undefined"==typeof a.filter[D]){if(a.filter[D]=b,a.parameters[D]={param:D,value:M,scapedValue:K,type:I,typeLength:O[I]},a.order[b.order]=D,null!=L&&""!=E){var c={logicalOperator:v,field:x,relationalOperator:w,value:N,strCommand:B,strCommandParameter:F,strDisplay:C,doubleParameter:2,position:J,type:I,typeLength:O[I],order:Object.keys(a.filter).length};a.filter[D].doubleParameter=1,a.parameters[E]={param:E,value:N,scapedValue:L,type:I,typeLength:O[I]},a.filter[E]=c,a.order[c.order]=E}a.commandText+=b.strCommand,a.commandParameter+=b.strCommandParameter,a.logicalOperator=jQuery('select[name="'+g+'-logicalOperator"]').val(),a.filterField=jQuery('select[name="'+g+'-filterField"]').val(),a.relationalOperator=jQuery('select[name="'+g+'-RelationalOperator"]').val(),jQuery("#"+g+" > .logicalOperator > select option").eq(1).prop("disabled",!1),jQuery("#"+g+" > .ActiveFilters").append('<span class="label-ticket"><div>'+C+'</div><button value="'+D+'"><img src="'+e.baseUrl+'/HarpFilter/img/x.png" width="16px"></button></span>'),jQuery("#"+g+" > .ActiveFilters").show(),jQuery("#"+g+" > .filterData").val(jQuery.base64.encode(JSON.stringify(a))),jQuery("#"+g+" > .cleanAllFilter").show()}return a}function r(a){if(jQuery.isEmptyObject(a.filter))return a;var b=a.commandText.substring(0,4),c=a.commandText.substring(4);return c=c.replace("(","").replace(")",""),a.commandText=b+"("+c+")",b=a.commandParameter.substring(0,4),c=a.commandParameter.substring(4),c=c.replace("(","").replace(")",""),a.commandParameter=b+"("+c+")",a}jQuery.isEmptyObject(e.jsonFilterData.filter)&&(jQuery("#"+g+" > .cleanAllFilter").hide(),jQuery("#"+g+" > .logicalOperator > select option").eq(1).prop("disabled",!0));var a=X(jQuery.base64.decode(e.jsonFilterData));if(a){if("undefined"!=typeof a.filter){var b="";jQuery.each(a.filter,function(a,c){0!=c.doubleParameter&&1!=c.doubleParameter||(b+='<span class="label-ticket"><div>'+c.strDisplay+'</div><button value="'+a+'" data-value="'+c.value+'"><img src="'+e.baseUrl+'/HarpFilter/img/x.png" width="16px"></button></span>')}),b.trim().length>0&&(jQuery("#"+g+" > .ActiveFilters").append(b).show(),jQuery("#"+g+" > .logicalOperator > select option").eq(1).prop("disabled",!1),jQuery("#"+g+" > .buttonSubmitFilter").show(),jQuery("#"+g+" > .cleanAllFilter").show())}var c="undefined"!=typeof a.logicalOperator,d="undefined"!=typeof a.relationalOperator,h="undefined"!=typeof a.filterField;if(c&&d&&h&&""!=a.logicalOperator&&""!=a.relationalOperator&&""!=a.filterField){jQuery('select[name="'+g+'-logicalOperator"]').val(a.logicalOperator),jQuery('select[name="'+g+'-RelationalOperator"]').val(a.relationalOperator),jQuery('select[name="'+g+'-filterField"]').val(a.filterField);var i=jQuery('select[name="'+g+'-filterField"]').find("option:selected").attr("class");if("undefined"!=typeof i){var j=null,m=null;jQuery('input[id^="'+i+'-"]').length>0?(j=jQuery('input[id^="'+i+'-"]').eq(0).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+i+"-1"),m=jQuery('input[id^="'+i+'-"]').eq(1).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+i+"-2"),jQuery("#"+g+" > .ContainerElement").empty().append(j).append(m).show()):(j=jQuery("#"+i).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+i),jQuery("#"+g+" > .ContainerElement").empty().append(j).show()),jQuery('select[name="'+g+'-RelationalOperator"]').prop("disabled",!1),z=j,A=m,y=i,x=a.filterField,v=jQuery('select[name="'+g+'-logicalOperator"]').val(),J="center";var n=jQuery('select[name="'+g+'-RelationalOperator"]').find("option:selected").attr("data-position");jQuery.isEmptyObject(e.allowedRelationalOperators)||jQuery("#"+g+" > .relationalOperator > select > option").each(function(a,b){if("undefined"!=typeof e.allowedRelationalOperators[x]){var c=e.allowedRelationalOperators[x];jQuery.inArray(jQuery(b).val().trim(),c)===-1&&jQuery(b).prop("disabled",!0).css({color:"#888888"})}}),w=jQuery('select[name="'+g+'-RelationalOperator"]').val(),"undefined"!=typeof n&&(J=n),console.log(x)}}else if(e.defaultSearchShow){jQuery('select[name="'+g+'-logicalOperator"] option').eq(0).prop("selected",!0),jQuery('select[name="'+g+'-filterField"] option').eq(1).prop("selected",!0);var i=jQuery('select[name="'+g+'-filterField"]').find("option:selected").attr("class");if("undefined"!=typeof i){var j=null,m=null;jQuery('input[id^="'+i+'-"]').length>0?(j=jQuery('input[id^="'+i+'-"]').eq(0).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+i+"-1"),m=jQuery('input[id^="'+i+'-"]').eq(1).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+i+"-2"),jQuery("#"+g+" > .ContainerElement").empty().append(j).append(m).show()):(j=jQuery("#"+i).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+i),jQuery("#"+g+" > .ContainerElement").empty().append(j).show()),jQuery('select[name="'+g+'-RelationalOperator"]').prop("disabled",!1),z=j,A=m,y=i,x=jQuery('select[name="'+g+'-filterField"]').val(),v=jQuery('select[name="'+g+'-logicalOperator"]').val(),J="center";var n=jQuery('select[name="'+g+'-RelationalOperator"]').find("option:selected").attr("data-position");"undefined"!=typeof n&&(J=n),jQuery.isEmptyObject(e.allowedRelationalOperators)||jQuery("#"+g+" > .relationalOperator > select > option").each(function(a,b){if("undefined"!=typeof e.allowedRelationalOperators[x]){var c=e.allowedRelationalOperators[x];jQuery.inArray(jQuery(b).val().trim(),c)===-1&&jQuery(b).prop("disabled",!0).css({color:"#888888"})}}),jQuery('select[name="'+g+'-RelationalOperator"] option').each(function(a,b){if(""!=jQuery(b).val().trim()&&jQuery(b).is(":enabled"))return jQuery(b).prop("selected",!0),!1}),w=jQuery('select[name="'+g+'-RelationalOperator"]').val(),jQuery("#"+g+" > .buttonSubmitFilter").show()}}l===!0&&jQuery("#"+g+" > .buttonSubmitFilter").trigger("click")}jQuery("body").on("click","#"+g+" .ActiveFilters .label-ticket button",function(a){var b=p();if(!b)return!1;if("undefined"!=typeof b.filter[jQuery(this).val()]){var c=b.filter[jQuery(this).val()],d=Object.keys(b.filter).length;if(0==c.order&&(1==d||2==d&&1==c.doubleParameter))b={filter:{},parameters:{},commandText:"",commandParameter:"",order:{},logicalOperator:"",filterField:"",relationalOperator:"",request:"0"};else if(0==c.order&&d>1)if(0==c.doubleParameter){var h=/\(([^)]+)\)/,i=h.exec(b.commandText),j=h.exec(b.commandParameter);if(null!=i&&null!=j&&i.length>0&&j.length>0){var l=c.strCommand.trim().substring(3).trim(),m=c.strCommandParameter.trim().substring(3).trim(),n=i[1].replace(l,"").trim(),o=j[1].replace(m,"").trim();b.commandText=" AND ("+n.substring(3)+")",b.commandParameter=" AND ("+o.substring(3)+")"}else b.commandText=" "+b.commandText.replace(c.strCommand.trim(),"")+" ",b.commandParameter=b.commandParameter.replace(c.strCommandParameter.trim(),""),b.commandText=" AND "+b.commandText.trim().substring(3),b.commandParameter=" AND "+b.commandParameter.trim().substring(3);delete b.order[b.filter[jQuery(this).val()].order],delete b.filter[jQuery(this).val()],delete b.parameters[jQuery(this).val()]}else{var m=c.strCommandParameter.trim().substring(3).trim(),l=c.strCommand.trim().substring(3).trim();b.commandParameter=b.commandParameter.replace(m,""),b.commandText=b.commandText.replace(l,"");var q=b.commandParameter.trim().split("("),r=q[1].trim().substring(0,4),s=q[1].trim().substring(0,3);b.commandParameter=q[1].trim();var t=["AND ","OR "];jQuery.inArray(r,t)!=-1?b.commandParameter=b.commandParameter.trim().replace(r,""):jQuery.inArray(s,t)!=-1&&(b.commandParameter=b.commandParameter.trim().replace(s,"")),b.commandParameter=" AND ( "+b.commandParameter;var q=b.commandText.trim().split("("),r=q[1].trim().substring(0,4),s=q[1].trim().substring(0,3);b.commandText=q[1].trim(),jQuery.inArray(r,t)!=-1?b.commandText=b.commandText.trim().replace(r,""):jQuery.inArray(s,t)!=-1&&(b.commandText=b.commandText.trim().replace(s,"")),b.commandtext=" AND ( "+b.commandText,E="@p2"+jQuery(this).val().substring(2)+"-1";var u=b.filter[E],v=c.order,w=u.order;delete b.order[v],delete b.order[w],delete b.filter[jQuery(this).val()],delete b.filter[E],delete b.parameters[jQuery(this).val()],delete b.parameters[E]}else if(b.commandText=" "+b.commandText.trim().replace(c.strCommand.trim(),"")+" ",b.commandParameter=" "+b.commandParameter.trim().replace(c.strCommandParameter.trim(),"")+" ",delete b.order[b.filter[jQuery(this).val()].order],delete b.filter[jQuery(this).val()],delete b.parameters[jQuery(this).val()],0!=c.doubleParameter){E="@p2"+jQuery(this).val().substring(2)+"-1";var u=b.filter[E];delete b.order[w],delete b.filter[E],delete b.parameters[E]}var x=0;if(!jQuery.isEmptyObject(b.filter)){b.order={},jQuery.each(b.filter,function(a,c){b.filter[a].order=x,b.order[x]=a,++x});var y=b.filter[b.order[0]].strDisplay.trim().match(/^(\S+)\s(.*)/);"undefined"!=typeof y[1]&&jQuery("#"+g+" > .logicalOperator > select > option").each(function(a,c){var d=jQuery(c).text().trim();jQuery.inArray(d,y)!=-1&&(b.filter[b.order[0]].strDisplay=y[2])})}b.request="0",jQuery("#"+g+" > .filterData").val(jQuery.base64.encode(JSON.stringify(b))),jQuery(this).parent().parent().hide(),"undefined"!=typeof Storage&&localStorage.setItem(k,jQuery("#"+g+" > .filterData").val()),e.loadWhileSubmit.show&&f("#"+g+" .ActiveFilters .label-ticket button")}}),jQuery("#"+g+" > .buttonSubmitFilter").click(function(b){var c=null;return(!(null==a||a.length<1)||0!=jQuery(z).length)&&(!(jQuery(z).length>0&&(c=q(),!c||null==c))&&(c=c?c:X(jQuery.base64.decode(e.jsonFilterData)),c=r(c),jQuery("#"+g+" > .filterData").val(jQuery.base64.encode(JSON.stringify(c))),"undefined"!=typeof Storage&&localStorage.setItem(k,jQuery("#"+g+" > .filterData").val()),void(e.loadWhileSubmit.show&&f("#"+g+" > .buttonSubmitFilter"))))}),jQuery("#"+g+" > .buttonAddFilter").click(function(a){if(a.preventDefault(),!q())return!1}),jQuery("#"+g+" > .logicalOperator > select").change(function(){v=jQuery(this).val()}),jQuery("#"+g+" > .relationalOperator > select").change(function(){if(w=jQuery(this).val().trim(),0===w.length)return console.log("Relational operator not found!"),!1;var a=jQuery(this).find(":selected").attr("data-position");"undefined"!=typeof a&&(J=a),jQuery(z).show(),null!=A&&jQuery(A).show(),jQuery("#"+g+" > .ContainerElement").css({display:"inline-block"}),e.btnAddFilter&&jQuery("#"+g+" > .buttonAddFilter").show(),jQuery("#"+g+" > .buttonSubmitFilter").show()}),jQuery("#"+g+" > .filterField > select").change(function(){return x=jQuery(this).val(),"undefined"==typeof jQuery('> option[value="'+x+'"]',this).attr("class")&&0!==x.length?(console.log("class attribute has not been set!"),!1):(y=jQuery('> option[value="'+x+'"]',this).attr("class"),0===x.length?(o(x),jQuery("#"+g+" > .ContainerElement").empty().hide(),!1):(o(x),void(jQuery("#"+y).length>0?(z=jQuery("#"+y).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+y).hide(),jQuery("#"+g+" > .ContainerElement").empty().append(z).hide()):jQuery('input[id^="'+y+'-"]').length>0&&(z=jQuery('input[id^="'+y+'-"]').eq(0).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+y+"-1").hide(),A=jQuery('input[id^="'+y+'-"]').eq(1).clone(!0).prop("disabled",!1).removeAttr("id").addClass("cloned-element").attr("id","cloned-element-"+y+"-2").hide(),jQuery("#"+g+" > .ContainerElement").empty().append(z).append(A).hide()))))})})}}(jQuery);